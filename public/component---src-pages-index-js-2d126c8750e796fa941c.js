"use strict";(self.webpackChunkmeal_planning=self.webpackChunkmeal_planning||[]).push([[678],{5764:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(7294),a=n(5444),i=n(4816),c=function(e){var t=e.children,n=e.className;return r.createElement("span",{className:"badge "+n},t)};function l(e){var t=e.recipe,n=e.day,l=e.draggable,s=void 0!==l&&l,u=e.onDragStart,o=void 0===u?"":u,m=e.children,p=e.actions,d=void 0===p?["add","save"]:p,f=e.addRecipe,E=e.saveRecipe,v=function(e){var a=e.children;return s?r.createElement("div",{draggable:s,onDragStart:function(e){return o(e,t,n)},className:"recipe-container",recipe_id:t.id,id:t.id},a):r.createElement("div",{className:"recipe-container",recipe_id:t.id,id:t.id},a)};return r.createElement(v,null,r.createElement(i.Z,{recipe:t,actions:d,saveRecipe:E,addRecipe:function(){return f(t)}}),r.createElement(a.rU,{to:"/recipe?"+t.id,state:{activeRecipe:t.id}},r.createElement("div",{className:"image-wrapper"},r.createElement("img",{src:t.image,alt:t.title}))),r.createElement("div",{className:"recipe-details",padding:"0"},r.createElement("div",{className:"dish-types"},t.dishTypes.map((function(e,t){return r.createElement(c,{key:t},e)}))),r.createElement(a.rU,{to:"/recipe?"+t.id,state:{activeRecipe:t.id}},r.createElement("h3",null,t.title)),m))}},6822:function(e,t,n){var r=n(7294),a=n(5764),i=n(2010);n(7606);t.Z=function(e){var t=e.recipes,n=e.actions,c=void 0===n?["add","save"]:n,l=e.saveRecipe,s=e.addRecipe,u=(0,r.useState)([]),o=u[0],m=u[1],p=function(e){m(e),document.getElementById("meal-plan-modal").style.display="flex"};return t.length?r.createElement(r.Fragment,null,r.createElement(i.Z,{recipe:o,addRecipe:s}),r.createElement("div",{className:"recipe-grid"},t.map((function(e){return r.createElement(a.Z,{key:e.id,recipe:e,actions:c,saveRecipe:l,addRecipe:p})})))):r.createElement("p",null,"You have not saved any recipes.")}},3626:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(7294),a=n(9410),i=n(6810),c=n(6822),l=n(7606);function s(e){var t=e.setQuery,n=e.query,a=(0,r.useState)((function(){return n.query||""})),i=a[0],c=a[1],s=(0,r.useState)((function(){return n.type||""})),u=s[0],o=s[1],m=(0,r.useState)((function(){return n.intolerances||""})),p=m[0],d=m[1],f=function(){var e=function(){return r.createElement("button",{onClick:function(e){return function(e){e.preventDefault(),t({query:i||"",type:u||"",intolerances:p||""})}(e)},id:"filter-submit","aria-label":"Submit search recipes form"},r.createElement(l.G,{icon:"search"}),"Search")},n=function(){return r.createElement("button",{onClick:function(e){return t()},id:"clear-filters",className:"clear-filters button-secondary","aria-label":"Reset Recipes"},"Reset")};return r.createElement("div",{className:"filter-buttons"},r.createElement(e,null),r.createElement(n,null))};return(0,r.useEffect)((function(){document.getElementById("filter-form")&&(document.getElementById("recipe-filters").style.minHeight=document.getElementById("filter-form").offsetHeight+"px")}),[f]),r.createElement("div",{className:"recipe-filters",id:"recipe-filters"},r.createElement("form",{className:"filter-form",id:"filter-form"},r.createElement("div",{className:"field-wrapper"},r.createElement("label",{htmlFor:"recipe-search"},"Search Recipes"),r.createElement("input",{type:"text",name:"recipe-search",placeholder:"Search Recipes",value:i,onChange:function(e){return function(e){c(e.currentTarget.value)}(e)},"aria-label":"Search recipes"})),r.createElement("div",{className:"field-wrapper"},r.createElement("label",{htmlFor:"dish-type"},"Dish Types"),r.createElement("select",{name:"dish-type",onChange:function(e){return function(e){o(e.currentTarget.value)}(e)},value:u,"aria-label":"Filter recipes by dish type"},r.createElement("option",{value:""},"Select Dish Type"),["Breakfast","Brunch","Lunch","Dinner","Dessert","Appetizer","Side Dish","Main Course","Salad","Soup","Snack","Bread","Beverage","Drink"].sort().map((function(e){return r.createElement("option",{key:e,value:e.toLowerCase()},e)})))),r.createElement("div",{className:"field-wrapper"},r.createElement("label",{htmlFor:"intolerances"},"Diet Restrictions"),r.createElement("select",{name:"intolerances",onChange:function(e){return function(e){d(e.currentTarget.value)}(e)},value:p,"aria-label":"Exclude recipes from search"},r.createElement("option",{value:""},"Select Diet Restriction"),["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Shellfish","Wheat"].sort().map((function(e){return r.createElement("option",{key:e,value:e.toLowerCase()},e)})))),r.createElement(f,null)))}function u(e){var t=e.perPage,n=e.total,a=e.page,i=e.updateQuery,c=Math.ceil(n/t),s=function(e,n){i({offset:t*(n-1)})},u=function(){var e=[a-1,a,a+1,a+2];return(e=(e=e.filter((function(e){return e>=1&&e<=c}))).slice(0,3)).map((function(e){var t=e===a?"active":"";return r.createElement("li",{role:"tab",key:e,onClick:function(t){return s(0,e)},className:""+t},e)}))};return r.createElement("ul",{className:"pagination clearList",role:"tablist"},r.createElement("li",{role:"tab",onClick:function(e){return s(0,a-1)},className:"page-arrow "+(1===a?"disabled":"")},r.createElement(l.G,{icon:"angle-left"})),r.createElement(u,null),r.createElement("li",{role:"tab",onClick:function(e){return s(0,a+1)},className:"page-arrow "+(a===c?"disabled":"")},r.createElement(l.G,{icon:"angle-right"})))}var o=n(5414),m=n(6117),p=function(){var e=(0,r.useState)([]),t=e[0],n=e[1],l=(0,m.Z)([]),p=(l[0],l[1]),d=(0,r.useState)({instructionsRequired:!0,addRecipeInformation:!0,sort:"popularity",number:12,offset:0}),f=d[0],E=d[1],v=function(e){if(e){window.scrollTo({top:0,behavior:"smooth"}),e.offset||(e.offset=0);var t=Object.assign(f,e);E(Object.assign({},t))}else E({instructionsRequired:!0,addRecipeInformation:!0,sort:"popularity",number:12,offset:0})},h=function(e,t){p(e,t)},g=function(e){var t=e.recipes,n=function(){return r.createElement("p",{id:"search-total-results"},"Your search returned ",t.totalResults," recipes.")};return t.totalResults>0?r.createElement(r.Fragment,null,r.createElement(n,null),r.createElement(c.Z,{recipes:t.results,actions:!1,addRecipe:h}),r.createElement(u,{page:f.offset/12+1,perPage:12,total:t.totalResults,updateQuery:v})):r.createElement(n,null)};return(0,r.useEffect)((function(){fetch("/.netlify/functions/recipes/complexSearch",{headers:{parameters:JSON.stringify(f)}}).then((function(e){return e.json()})).then((function(e){n(e)}))}),[f]),r.createElement(a.Z,null,r.createElement(o.q,null,r.createElement("body",{className:"index"}),r.createElement("title",null,"Meal Planning App"),r.createElement("meta",{name:"icon",href:"../images/favicon.png"})),r.createElement(s,{setQuery:v,query:f}),r.createElement(i.Z,{className:"recipe-grid-wrap"},r.createElement(g,{recipes:t})))}}}]);
//# sourceMappingURL=component---src-pages-index-js-2d126c8750e796fa941c.js.map